(function(e){function t(t){for(var a,c,i=t[0],s=t[1],l=t[2],u=0,p=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0867":function(e,t,n){},"0e39":function(e,t,n){},1:function(e,t){},"120d":function(e,t,n){"use strict";n("fae1")},2987:function(e,t,n){"use strict";n("d8bc")},"3e1c":function(e,t,n){"use strict";n("79f5")},"47df":function(e,t,n){"use strict";n("0867")},"4e14":function(e,t,n){},"55e3":function(e,t,n){},"5bcc":function(e,t,n){},"79f5":function(e,t,n){},8323:function(e,t,n){},"8e7e":function(e,t,n){"use strict";n("dd54")},"99d9":function(e,t,n){"use strict";n("dc14")},a42d:function(e,t,n){"use strict";n("8323")},a436:function(e,t,n){"use strict";n("4e14")},ac88:function(e,t,n){"use strict";n("5bcc")},b4ce:function(e,t,n){"use strict";n("ef39")},c3a6:function(e,t,n){"use strict";n("c654")},c654:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("a913");var a=n("5040"),r=n.n(a),o=(n("e26b"),n("ee0f")),c=n.n(o),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("7a23")),s=Object(i["withScopeId"])("data-v-1ca26644");Object(i["pushScopeId"])("data-v-1ca26644");var l=Object(i["createTextVNode"])("TIMELINE"),d=Object(i["createTextVNode"])("STORIES"),u=Object(i["createStaticVNode"])('<footer data-v-1ca26644><p data-v-1ca26644> MAP TILES: © <a href="https://www.openstreetmap.org/copyright" data-v-1ca26644>OpenStreetMap</a> contributors © <a href="https://carto.com/attributions" data-v-1ca26644>CARTO</a></p><p data-v-1ca26644> WEBSITE: © <a href="https://schnerring.net" data-v-1ca26644>Michael Schnerring</a>, Sebastian Deuss | <a href="https://github.com/schnerring/seabats/blob/main/LICENSE" data-v-1ca26644>MIT</a> | <a href="https://github.com/schnerring/seabats" data-v-1ca26644>GitHub</a></p><p data-v-1ca26644> DESIGN &amp; CONTENT © Giovanna | <a rel="license" href="https://creativecommons.org/licenses/by/4.0" data-v-1ca26644>CC BY 4.0</a></p></footer>',1);Object(i["popScopeId"])();var p=s((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("router-link"),p=Object(i["resolveComponent"])("router-view");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("nav",null,[Object(i["createVNode"])(c,{to:"/"},{default:s((function(){return[l]})),_:1}),Object(i["createVNode"])(c,{to:"/stories"},{default:s((function(){return[d]})),_:1})]),Object(i["createVNode"])("main",null,[Object(i["createVNode"])(p)]),u],64)})),f=Object(i["defineComponent"])({});n("c3a6"),n("a436");f.render=p,f.__scopeId="data-v-1ca26644";var h=f,b=n("1da1"),m=(n("96cf"),n("b0c0"),n("6c02")),v=Object(i["withScopeId"])("data-v-3050e800");Object(i["pushScopeId"])("data-v-3050e800");var g={class:"parent"},O={class:"timeline"},j={class:"map"};Object(i["popScopeId"])();var y=v((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("timeline"),s=Object(i["resolveComponent"])("leaflet-map");return Object(i["openBlock"])(),Object(i["createBlock"])("div",g,[Object(i["createVNode"])("div",O,[Object(i["createVNode"])(c,{events:e.events,tooltipContent:e.tooltipContent,onEventClick:e.highlightFlight,onDateRangeChanged:e.dateRangeChanged},null,8,["events","tooltipContent","onEventClick","onDateRangeChanged"])]),Object(i["createVNode"])("div",j,[Object(i["createVNode"])(s,{selectedLineId:e.selectedFlightId},null,8,["selectedLineId"])])])})),w=n("5530"),x=(n("99af"),n("d3b7"),n("25f0"),n("d81d"),n("5a0c")),k=n.n(x),S=n("5502"),N=n("d4ec"),D=function e(t){Object(N["a"])(this,e),this.fields=t},C=(n("a4d3"),n("e01a"),Object(i["withScopeId"])("data-v-208051ef"));Object(i["pushScopeId"])("data-v-208051ef");var I=Object(i["createVNode"])("div",{id:"leaflet"},null,-1),R={class:"legend"};Object(i["popScopeId"])();var V=C((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("legend-item");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[I,Object(i["createVNode"])("div",R,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legendItems,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e.label,color:e.color,label:e.label,attribution:e.attribution,description:e.description},null,8,["color","label","attribution","description"])})),128))])],64)})),B=n("b85c"),z=(n("4ec9"),n("3ca3"),n("ddb0"),n("7db0"),n("4de4"),n("e11e")),L={color:"#ffffff",weight:1},T={color:"#1148fe",weight:3};function E(){return new z["TileLayer"]("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png")}function M(e,t){return{weight:"sar"===e?2:1,color:t,stroke:!1}}var _=new z["LatLng"](35.917973,14.409943),A=6,F=Object(i["withScopeId"])("data-v-2b39f5f8");Object(i["pushScopeId"])("data-v-2b39f5f8");var Y={class:"legend-item"},P=Object(i["createVNode"])("br",null,null,-1),H={class:"legend-text"};Object(i["popScopeId"])();var J=F((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("el-tooltip");return Object(i["openBlock"])(),Object(i["createBlock"])("div",Y,[Object(i["createVNode"])("div",{class:"legend-symbol",style:{background:e.color}},null,4),Object(i["createVNode"])(c,{placement:"right"},{content:F((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.attribution),1),P,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.description),1)]})),default:F((function(){return[Object(i["createVNode"])("div",H,[Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.label),1)])]})),_:1})])})),Z=(n("7ee1"),n("f440")),$=n.n(Z),q=Object(i["defineComponent"])({components:{ElTooltip:$.a},props:{color:{type:String},label:{type:String},attribution:{type:String},description:{type:String}}});n("a42d");q.render=J,q.__scopeId="data-v-2b39f5f8";var G=q,U=Object(i["defineComponent"])({components:{LegendItem:G},data:function(){return{map:void 0,data:new Map,selectedLine:void 0,legendItems:[]}},props:{selectedLineId:{type:String}},computed:Object(w["a"])({},Object(S["c"])(["flights","zones"])),methods:Object(w["a"])({},Object(S["b"])(["getZones"])),watch:{selectedLineId:function(){var e;if(null===(e=this.selectedLine)||void 0===e||e.remove(),this.selectedLine=void 0,this.selectedLineId){var t=this.data.get(this.selectedLineId);if(t){var n,a,r=Object(z["geoJSON"])(t.toGeoJSON(),{style:T});null===(n=this.map)||void 0===n||n.addLayer(r),null===(a=this.map)||void 0===a||a.fitBounds(r.getBounds().pad(.2)),this.selectedLine=r}}},flights:function(e){var t,n,a=this,r=new z["FeatureGroup"],o=Object(B["a"])(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;if("string"!==typeof c.id)throw"Flights require valid ID";if(!this.data.has(c.id)){var i=Object(z["geoJSON"])(c,{style:L});this.data.set(c.id,i),r.addLayer(i)}}}catch(u){o.e(u)}finally{o.f()}null===(t=this.map)||void 0===t||t.addLayer(r);var s,l=Object(B["a"])(this.data.keys());try{var d=function(){var t,n=s.value,r=e.find((function(e){return e.id===n}));if(r)return"continue";null===(t=a.data.get(n))||void 0===t||t.remove(),a.data.delete(n)};for(l.s();!(s=l.n()).done;)d()}catch(u){l.e(u)}finally{l.f()}},zones:function(e){this.legendItems=e.filter((function(e){var t;return"sar"===(null===(t=e.properties)||void 0===t?void 0:t.type)})).map((function(e){var t,n,a,r;return{color:null===(t=e.properties)||void 0===t?void 0:t.color,label:null===(n=e.properties)||void 0===n?void 0:n.label,attribution:null===(a=e.properties)||void 0===a?void 0:a.attribution,description:null===(r=e.properties)||void 0===r?void 0:r.description}}));var t,n=Object(B["a"])(e);try{for(n.s();!(t=n.n()).done;){var a,r,o,c=t.value;null===(a=this.map)||void 0===a||a.addLayer(Object(z["geoJSON"])(c,{style:M(null===(r=c.properties)||void 0===r?void 0:r.type,null===(o=c.properties)||void 0===o?void 0:o.color)}))}}catch(i){n.e(i)}finally{n.f()}}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new z["Map"]("leaflet",{renderer:new z["Canvas"],zoomControl:!1,attributionControl:!1}),e.map.setView(_,A),e.map.addLayer(E()),t.next=5,e.getZones();case 5:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){var e;null===(e=this.map)||void 0===e||e.remove()}});n("d312");U.render=V,U.__scopeId="data-v-208051ef";var W=U,X=Object(i["withScopeId"])("data-v-48e5e73c");Object(i["pushScopeId"])("data-v-48e5e73c");var K={class:"timeline"},Q={class:"d3",ref:"d3"},ee={class:"info-bar"},te=Object(i["createVNode"])("div",{class:"event-info"},null,-1);Object(i["popScopeId"])();var ne=X((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("date-range"),s=Object(i["resolveComponent"])("flight-tooltip");return Object(i["openBlock"])(),Object(i["createBlock"])("div",K,[Object(i["createVNode"])("div",Q,null,512),Object(i["createVNode"])("div",ee,[Object(i["createVNode"])(c,{onDateRangeChanged:t[1]||(t[1]=function(t){return e.setDateRange(t)})}),te,e.tooltipContent?(Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:"event-info",key:e.tooltipContent.title},[Object(i["createVNode"])(s,{content:e.tooltipContent},null,8,["content"])])):Object(i["createCommentVNode"])("",!0)])])})),ae=(n("a15b"),n("4e82"),Object(i["withScopeId"])("data-v-32d1ccce"));Object(i["pushScopeId"])("data-v-32d1ccce");var re={class:"date-range"},oe={class:"date-pager"},ce={class:"current"};Object(i["popScopeId"])();var ie=ae((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("el-radio-button"),s=Object(i["resolveComponent"])("el-radio-group");return Object(i["openBlock"])(),Object(i["createBlock"])("div",re,[Object(i["createVNode"])(s,{modelValue:e.duration,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.duration=t}),size:"medium"},{default:ae((function(){return[Object(i["createVNode"])(c,{label:"year"}),Object(i["createVNode"])(c,{label:"month"}),Object(i["createVNode"])(c,{label:"week",disabled:""}),Object(i["createVNode"])(c,{label:"day"})]})),_:1},8,["modelValue"]),Object(i["createVNode"])("div",oe,[e.enabled?(Object(i["openBlock"])(),Object(i["createBlock"])("button",{key:0,class:"pager-button",onClick:t[2]||(t[2]=function(t){return e.previous()})}," < ")):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])("div",ce,Object(i["toDisplayString"])(e.formattedDate),1),e.enabled?(Object(i["openBlock"])(),Object(i["createBlock"])("button",{key:1,class:"pager-button",onClick:t[3]||(t[3]=function(t){return e.next()})},">")):Object(i["createCommentVNode"])("",!0)])])})),se=(n("ebbd"),n("9aae")),le=n.n(se),de=(n("1e5c"),n("13e1")),ue=n.n(de),pe=Object(i["defineComponent"])({components:{ElRadioGroup:ue.a,ElRadioButton:le.a},emits:["dateRangeChanged"],data:function(){return{selectedDate:new Date(2021,6,15),duration:"year"}},props:{enabled:{type:Boolean,default:!0}},watch:{dateRange:function(){this.$emit("dateRangeChanged",this.dateRange)}},computed:{formattedDate:function(){if("year"===this.duration)return k()(this.selectedDate).format("YYYY").toString();if("month"===this.duration)return k()(this.selectedDate).format("YYYY / MM").toString();if("day"===this.duration)return k()(this.selectedDate).format("YYYY / MM / DD").toString();throw"Unsupported unitType ".concat(this.duration)},dateRange:function(){return[k()(this.selectedDate).startOf(this.duration).toDate(),k()(this.selectedDate).endOf(this.duration).toDate()]}},methods:{previous:function(){this.selectedDate=k()(this.selectedDate).subtract(1,this.duration).toDate()},next:function(){this.selectedDate=k()(this.selectedDate).add(1,this.duration).toDate()}}});n("120d");pe.render=ie,pe.__scopeId="data-v-32d1ccce";var fe=pe,he=n("2ef0"),be=n("898b"),me=Object(i["withScopeId"])("data-v-73929900");Object(i["pushScopeId"])("data-v-73929900");var ve={id:"Tooltip-Container"},ge={class:"single-tooltip"};Object(i["popScopeId"])();var Oe=me((function(e,t,n,a,r,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",ve,[Object(i["createVNode"])("div",ge,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.content.fields,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:e.key},[Object(i["createVNode"])("strong",null,Object(i["toDisplayString"])(e.key),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.value),1)])})),128))])])})),je=Object(i["defineComponent"])({props:{content:{type:D}}});n("3e1c");je.render=Oe,je.__scopeId="data-v-73929900";var ye=je,we=Object(i["defineComponent"])({emits:["eventClick","dateRangeChanged"],components:{DateRange:fe,FlightTooltip:ye},props:{minDate:{type:Date,default:new Date(2021,0,1)},maxDate:{type:Date,default:new Date(2021,11,31)},events:{type:Array,default:[]},tooltipContent:{type:D,default:void 0}},computed:{daysInDomain:function(){return k()(this.maxDate).diff(k()(this.minDate),"days",!0)},maxZoomFactor:function(){var e=4;return this.daysInDomain/e},labels:function(){var e=this.events.map((function(e){return e.label}));return Object(he["uniq"])(e)}},data:function(){var e=this;return{debounceDateRangeChanged:Object(he["debounce"])((function(t,n){e.$emit("dateRangeChanged",t,n)}),1e3),zoomBehavior:{},zoomRect:{},margin:{top:10,right:30,bottom:10,left:150},xScale:{},zoomScale:{},yScale:{},xAxisDefinition:{},xAxis:{},tracksSelection:{},defaultSelection:[],svg:{},eventsSelection:{},clipRect:{},resizeObserver:new ResizeObserver(Object(he["debounce"])((function(t){e.onResize(t)}),250))}},methods:{resetZoom:function(){this.zoomBehavior.transform(this.zoomRect,be["g"])},setDateRange:function(e){var t=e[0],n=e[1];this.zoomScale=this.zoomScale.domain([t,n]),this.xAxisDefinition.scale(this.zoomScale),this.scalesChanged();var a=this.zoomScale.domain()[0],r=this.zoomScale.domain()[1];this.debounceDateRangeChanged(a,r)},zoom:function(e){this.zoomScale=e.transform.rescaleX(this.xScale),this.xAxisDefinition.scale(this.zoomScale),this.scalesChanged();var t=this.zoomScale.domain()[0],n=this.zoomScale.domain()[1];this.debounceDateRangeChanged(t,n)},onResize:function(e){var t=this;e.forEach((function(e){var n={height:e.contentRect.height,width:e.contentRect.width},a={height:Math.max(0,n.height-t.margin.top-t.margin.bottom),width:Math.max(0,n.width-t.margin.left-t.margin.right)};t.svg.attr("width",a.width).attr("height",a.height),t.zoomRect.attr("width",a.width).attr("height",a.height),t.zoomBehavior.extent([[0,0],[a.width,a.height]]),t.clipRect.attr("width",a.width).attr("height",a.height);var r=20;t.zoomScale.rangeRound([0,a.width]),t.xScale.rangeRound([0,a.width]),t.yScale.rangeRound([0,a.height-r]),t.scalesChanged()}))},scalesChanged:function(){var e=this;Object(be["e"])(".track-rect").attr("width",this.zoomScale.range()[1]).attr("height",this.yScale.bandwidth),Object(be["e"])(".track-group").attr("transform",(function(t){var n=e.yScale(t);return void 0===n?"translate(0, 0)":"translate(0, ".concat(n,")")})),Object(be["e"])(".event").attr("width",(function(t){var n=e.zoomScale(t.end),a=e.zoomScale(t.start);return Math.max(10,n-a)})).attr("height",this.yScale.bandwidth).attr("transform",(function(t){return"translate(".concat(e.zoomScale(t.start),", ").concat(e.yScale(t.label),")")})),this.xAxis.attr("transform","translate(0, ".concat(this.yScale.range()[1],")")).call(this.xAxisDefinition)}},watch:{events:function(){var e=this;this.eventsSelection=this.eventsSelection.data(this.events,(function(e){return e.key})).join((function(t){return t.append("rect").attr("class","event").attr("fill","var(--white)").on("click.select",(function(){Object(be["e"])(".selected-track").classed("selected-track",!1),Object(be["d"])(this).classed("selected-track",!0),Object(be["d"])(this).attr("selected")})).on("click.emit",(function(t,n){return e.$emit("eventClick",n)}))}),(function(e){return e}),(function(e){return e.selectAll(".selected-track").classed("selected-track",!1),e.remove()})),this.tracksSelection=this.tracksSelection.data(this.labels).join((function(e){var t=e.append("g").attr("class","track-group");return t.append("rect").attr("class","track-rect").attr("fill","var(--grey2)"),t.append("text").attr("class","track-label").attr("text-anchor","end").attr("dominant-baseline","text-before-edge").attr("transform","translate(-10, 0)").attr("text-align","right").text((function(e){return e})).style("fill","var(--grey3)").style("font-size","10pt"),t}),(function(e){return e}),(function(e){return e.remove()})),this.yScale.domain(this.labels.sort()),this.scalesChanged()}},created:function(){this.xScale=Object(be["c"])().domain([this.minDate,this.maxDate]),this.zoomScale=this.xScale,this.yScale=Object(be["b"])().padding(.6),this.xAxisDefinition=Object(be["a"])(this.xScale)},mounted:function(){this.svg=Object(be["d"])(".d3").append("svg").attr("class","canvas").attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")")).style("overflow","visible"),this.xAxis=this.svg.append("g").attr("class","x-axis").call(this.xAxisDefinition),this.tracksSelection=this.svg.append("g").attr("class","tracks-g").selectAll(".track"),this.zoomBehavior=Object(be["f"])().scaleExtent([.25,999999]).on("zoom",this.zoom),this.zoomRect=this.svg.append("rect").style("fill","none").style("pointer-events","all").call(this.zoomBehavior),this.clipRect=this.svg.append("defs").append("clipPath").attr("id","EventsClip").append("rect").attr("fill","transparent"),this.eventsSelection=this.svg.append("g").attr("class","events-g").attr("clip-path","url(#EventsClip)").selectAll(".event"),this.resizeObserver.observe(this.$refs["d3"]),this.$emit("dateRangeChanged",this.minDate,this.maxDate)}});n("ac88"),n("cff7");we.render=ne,we.__scopeId="data-v-48e5e73c";var xe=we,ke=Object(i["defineComponent"])({data:function(){return{events:[],tooltipContent:void 0,selectedFlightId:void 0}},methods:Object(w["a"])({dateRangeChanged:function(e,t){var n=this;return Object(b["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.getFlights({from:e,to:t});case 2:case"end":return a.stop()}}),a)})))()},highlightFlight:function(e){this.selectedFlightId=e.key;var t=e.data.to,n=e.data.from,a=k()(t).diff(n,"minutes"),r=Math.floor(a/60),o=a%60;this.tooltipContent=new D([{key:"DATE",value:k()(e.data.from).format("YYYY-MM-DD")},{key:"TIME",value:k()(e.data.from).format("HH:mm")},{key:"DURATION",value:"".concat(r.toString(),"h ").concat(o,"m")},{key:"TYPE",value:e.data.aircraft}])}},Object(S["b"])(["getFlights"])),computed:Object(w["a"])({},Object(S["c"])(["flights"])),watch:{flights:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.events=e.map((function(e){return{data:e.properties,label:e.properties.aircraft,key:e.id,start:k()(e.properties.from).toDate(),end:k()(e.properties.to).toDate()}}));case 1:case"end":return n.stop()}}),n)})))()}},components:{LeafletMap:W,Timeline:xe}});n("2987");ke.render=y,ke.__scopeId="data-v-3050e800";var Se=ke,Ne=Object(i["withScopeId"])("data-v-336f499a");Object(i["pushScopeId"])("data-v-336f499a");var De={class:"parent"},Ce={class:"child"},Ie=Object(i["createVNode"])("h1",null,"Hello! You Need Data To Use This App",-1),Re=Object(i["createVNode"])("p",null," Sorry, we currently don't have a license to publicly redistribute any of our test data. ",-1),Ve=Object(i["createVNode"])("p",null," Please contact one of the project maintainers to request a sample data set. ",-1),Be={key:0,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-loader",width:"44",height:"44",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#2c3e50",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},ze=Object(i["createVNode"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Le=Object(i["createVNode"])("line",{x1:"12",y1:"6",x2:"12",y2:"3"},null,-1),Te=Object(i["createVNode"])("line",{x1:"16.25",y1:"7.75",x2:"18.4",y2:"5.6"},null,-1),Ee=Object(i["createVNode"])("line",{x1:"18",y1:"12",x2:"21",y2:"12"},null,-1),Me=Object(i["createVNode"])("line",{x1:"16.25",y1:"16.25",x2:"18.4",y2:"18.4"},null,-1),_e=Object(i["createVNode"])("line",{x1:"12",y1:"18",x2:"12",y2:"21"},null,-1),Ae=Object(i["createVNode"])("line",{x1:"7.75",y1:"16.25",x2:"5.6",y2:"18.4"},null,-1),Fe=Object(i["createVNode"])("line",{x1:"6",y1:"12",x2:"3",y2:"12"},null,-1),Ye=Object(i["createVNode"])("line",{x1:"7.75",y1:"7.75",x2:"5.6",y2:"5.6"},null,-1),Pe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-upload",width:"44",height:"44",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#2c3e50",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},He=Object(i["createVNode"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Je=Object(i["createVNode"])("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},null,-1),Ze=Object(i["createVNode"])("polyline",{points:"7 9 12 4 17 9"},null,-1),$e=Object(i["createVNode"])("line",{x1:"12",y1:"4",x2:"12",y2:"16"},null,-1),qe={class:"status-text"},Ge=Object(i["createVNode"])("p",null,[Object(i["createTextVNode"])(" If you want to provide your own data, "),Object(i["createVNode"])("a",{href:"https://github.com/schnerring/seabats/blob/main/README.md"},"read more about the expected data format"),Object(i["createTextVNode"])(". ")],-1);Object(i["popScopeId"])();var Ue=Ne((function(e,t,n,a,r,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",De,[Object(i["createVNode"])("div",Ce,[Ie,Re,Ve,Object(i["createVNode"])("label",null,[Object(i["createVNode"])("input",{type:"file",ref:"file",onChange:t[1]||(t[1]=function(t){return e.loadData(t.target.files[0])}),disabled:e.isLoading},null,40,["disabled"]),e.isLoading?(Object(i["openBlock"])(),Object(i["createBlock"])("svg",Be,[ze,Le,Te,Ee,Me,_e,Ae,Fe,Ye])):(Object(i["openBlock"])(),Object(i["createBlock"])("svg",Pe,[He,Je,Ze,$e])),Object(i["createVNode"])("p",qe,Object(i["toDisplayString"])(e.status),1)]),Ge])])})),We=n("c4e3"),Xe=n("16b2"),Ke=n("5d16"),Qe=n("bc3a"),et=n.n(Qe),tt=n("0e54"),nt=n.n(tt),at=new Xe["a"]("geoJSON");function rt(e){return ot.apply(this,arguments)}function ot(){return ot=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.bulkDocs(t.features);case 2:return e.next=4,at.createIndex({index:{fields:["id","properties.from","properties.to","properties.type"]}});case 4:case"end":return e.stop()}}),e)}))),ot.apply(this,arguments)}function ct(){return it.apply(this,arguments)}function it(){return it=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.find({selector:{$or:[{"properties.type":"sar"},{"properties.type":"12nm"},{"properties.type":"24nm"}]}});case 2:return t=e.sent,e.abrupt("return",t.docs);case 4:case"end":return e.stop()}}),e)}))),it.apply(this,arguments)}function st(e,t){return lt.apply(this,arguments)}function lt(){return lt=Object(b["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.find({selector:{"properties.type":"flight","properties.from":{$gte:t,$lte:n}}});case 2:return a=e.sent,e.abrupt("return",a.docs);case 4:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function dt(e){return ut.apply(this,arguments)}function ut(){return ut=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.find({selector:{id:{$in:t}}});case 2:return n=e.sent,e.abrupt("return",n.docs);case 4:case"end":return e.stop()}}),e)}))),ut.apply(this,arguments)}function pt(){return ft.apply(this,arguments)}function ft(){return ft=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.info();case 2:return e.t0=e.sent.doc_count,e.abrupt("return",e.t0>0);case 4:case"end":return e.stop()}}),e)}))),ft.apply(this,arguments)}function ht(){return bt.apply(this,arguments)}function bt(){return bt=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,et.a.get("info-text.md");case 2:return t=e.sent,e.abrupt("return",nt()(t.data));case 4:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}Xe["a"].plugin(Ke["a"]);var mt=Object(i["defineComponent"])({data:function(){return{isLoading:!1}},computed:{status:function(){return this.isLoading?"Loading ...":"Click here to select a data set from the local file system"}},methods:{loadData:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var a,r,o,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,e.arrayBuffer();case 3:return a=n.sent,n.next=6,Object(We["loadAsync"])(a);case 6:r=n.sent,n.prev=7,n.t0=regeneratorRuntime.keys(r.files);case 9:if((n.t1=n.t0()).done){n.next=22;break}if(o=n.t1.value,c=r.file(o),c){n.next=14;break}throw"Error unzipping file: ".concat(o);case 14:return n.next=16,c.async("string");case 16:return i=n.sent,s=JSON.parse(i),n.next=20,rt(s);case 20:n.next=9;break;case 22:n.next=27;break;case 24:n.prev=24,n.t2=n["catch"](7),console.error(n.t2);case 27:return n.prev=27,t.isLoading=!1,n.finish(27);case 30:t.$router.push("/");case 31:case"end":return n.stop()}}),n,null,[[7,24,27,30]])})))()}}});n("47df");mt.render=Ue,mt.__scopeId="data-v-336f499a";var vt=mt,gt=Object(i["withScopeId"])("data-v-9e6b951c");Object(i["pushScopeId"])("data-v-9e6b951c");var Ot={class:"info-map"};Object(i["popScopeId"])();var jt=gt((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("info-map");return Object(i["openBlock"])(),Object(i["createBlock"])("div",Ot,[Object(i["createVNode"])("div",{class:"info",innerHTML:e.infoText},null,8,["innerHTML"]),Object(i["createVNode"])(c,{flights:e.flights},null,8,["flights"])])})),yt=(n("ac1f"),n("1276"),Object(i["withScopeId"])("data-v-41d95c29"));Object(i["pushScopeId"])("data-v-41d95c29");var wt={class:"leaflet-container"},xt=Object(i["createVNode"])("div",{id:"leaflet"},null,-1),kt={class:"tooltip-list"},St={class:"legend"};Object(i["popScopeId"])();var Nt=yt((function(e,t,n,a,r,o){var c=Object(i["resolveComponent"])("tooltip"),s=Object(i["resolveComponent"])("legend-item");return Object(i["openBlock"])(),Object(i["createBlock"])("div",wt,[xt,Object(i["createVNode"])("div",kt,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.tooltipContents,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:e,from:e.from,to:e.to,aircraftName:e.aircraftName},null,8,["from","to","aircraftName"])})),128))]),Object(i["createVNode"])("div",St,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.legendItems,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:e.label,color:e.color,label:e.label,attribution:e.attribution,description:e.description},null,8,["color","label","attribution","description"])})),128))])])})),Dt={class:"single-tooltip"};function Ct(e,t,n,a,r,o){return Object(i["openBlock"])(),Object(i["createBlock"])("div",Dt,[Object(i["createVNode"])("span",null,"from "+Object(i["toDisplayString"])(e.formatDate(e.from))+" to "+Object(i["toDisplayString"])(e.formatDate(e.to))+": "+Object(i["toDisplayString"])(e.aircraftName),1)])}var It=Object(i["defineComponent"])({methods:{formatDate:function(e){return k()(e).format(this.dayjsFormat)}},props:{from:{type:Date},to:{type:Date},aircraftName:{type:String},dayjsFormat:{type:String,default:"YY/MM/DD HH:mm"}}});It.render=Ct;var Rt=It,Vt=Object(i["defineComponent"])({components:{LegendItem:G,Tooltip:Rt},computed:Object(w["a"])({},Object(S["c"])(["zones"])),methods:Object(w["a"])({},Object(S["b"])(["getZones"])),data:function(){return{map:void 0,data:void 0,legendItems:[],tooltipContents:[]}},props:{flights:{default:function(){return[]},type:Array}},watch:{flights:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var a,r,o,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.data&&t.data.remove(),t.tooltipContents.length>0&&(t.tooltipContents=[]),o=new z["FeatureGroup"],c=Object(B["a"])(e);try{for(c.s();!(i=c.n()).done;)s=i.value,t.tooltipContents.push({aircraftName:s.properties.aircraft,from:k()(s.properties.from).toDate(),to:k()(s.properties.to).toDate()}),o.addLayer(Object(z["geoJSON"])(s,{style:T}))}catch(l){c.e(l)}finally{c.f()}null===(a=t.map)||void 0===a||a.addLayer(o),null===(r=t.map)||void 0===r||r.fitBounds(o.getBounds().pad(.2)),t.data=o;case 8:case"end":return n.stop()}}),n)})))()},zones:function(e){this.legendItems=e.filter((function(e){var t;return"sar"===(null===(t=e.properties)||void 0===t?void 0:t.type)})).map((function(e){var t,n,a,r;return{color:null===(t=e.properties)||void 0===t?void 0:t.color,label:null===(n=e.properties)||void 0===n?void 0:n.label,attribution:null===(a=e.properties)||void 0===a?void 0:a.attribution,description:null===(r=e.properties)||void 0===r?void 0:r.description}}));var t,n=Object(B["a"])(e);try{for(n.s();!(t=n.n()).done;){var a,r,o,c=t.value;null===(a=this.map)||void 0===a||a.addLayer(Object(z["geoJSON"])(c,{style:M(null===(r=c.properties)||void 0===r?void 0:r.type,null===(o=c.properties)||void 0===o?void 0:o.color)}))}}catch(i){n.e(i)}finally{n.f()}}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.map=new z["Map"]("leaflet",{renderer:new z["Canvas"],zoomControl:!1,attributionControl:!1,keyboard:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}),e.map.setView(_,A),e.map.addLayer(E()),t.next=5,e.getZones();case 5:case"end":return t.stop()}}),t)})))()},beforeUnmount:function(){var e;null===(e=this.map)||void 0===e||e.remove()}});n("b4ce");Vt.render=Nt,Vt.__scopeId="data-v-41d95c29";var Bt=Vt,zt=Object(i["defineComponent"])({computed:Object(w["a"])({},Object(S["c"])(["infoText"])),methods:Object(w["a"])({},Object(S["b"])(["getInfoText"])),components:{InfoMap:Bt},data:function(){return{flights:[]}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfoText();case 2:n=document.getElementsByClassName("data-link"),a=Object(B["a"])(n);try{for(o=function(){var t,n=r.value,a=null===(t=n.getAttribute("data"))||void 0===t?void 0:t.split(",");if(!a)throw"data-link requires data attribute";n.addEventListener("click",Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt(a);case 2:e.flights=t.sent;case 3:case"end":return t.stop()}}),t)}))))},a.s();!(r=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}case 5:case"end":return t.stop()}}),t)})))()}});n("8e7e"),n("99d9");zt.render=jt,zt.__scopeId="data-v-9e6b951c";var Lt,Tt=zt,Et=n("ade3"),Mt="checkIfDataExists",_t="getFlights",At="getInfoText",Ft="getZones",Yt=Object(S["a"])({state:{dataExists:!1,flights:[],zones:[],infoText:""},mutations:(Lt={},Object(Et["a"])(Lt,Mt,(function(e,t){e.dataExists=t})),Object(Et["a"])(Lt,_t,(function(e,t){e.flights=t})),Object(Et["a"])(Lt,Ft,(function(e,t){e.zones=t})),Object(Et["a"])(Lt,At,(function(e,t){e.infoText=t})),Lt),actions:{getInfoText:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ht();case 3:a=t.sent,n(At,a);case 5:case"end":return t.stop()}}),t)})))()},getFlights:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,st(t.from,t.to);case 3:r=n.sent,a(_t,r);case 5:case"end":return n.stop()}}),n)})))()},getZones:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ct();case 3:a=t.sent,n(Ft,a);case 5:case"end":return t.stop()}}),t)})))()},checkIfDataExists:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.t0=n,t.t1=Mt,t.next=5,pt();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))()}},modules:{}}),Pt=[{path:"/setup",name:"Setup",component:vt},{path:"/",alias:"/timeline",name:"Timeline",component:Se,meta:{requireData:!0}},{path:"/stories",name:"Stories",component:Tt,meta:{requireData:!0}}],Ht=Object(m["a"])({history:Object(m["b"])("/"),routes:Pt});Ht.beforeEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Yt.state.dataExists){e.next=3;break}return e.next=3,Yt.dispatch("checkIfDataExists");case 3:t.matched.some((function(e){return e.meta.requireData}))&&!Yt.state.dataExists?a("/setup"):t.matched.some((function(e){return"Setup"===e.name}))&&Yt.state.dataExists?a(n):a();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());var Jt=Ht,Zt=(n("55e3"),n("6cc5"),[c.a]),$t=[r.a],qt=Object(i["createApp"])(h).use(Yt).use(Jt);Zt.forEach((function(e){return qt.use(e)})),$t.forEach((function(e){return qt.use(e)})),qt.mount("#app")},cff7:function(e,t,n){"use strict";n("0e39")},d312:function(e,t,n){"use strict";n("ddbb")},d8bc:function(e,t,n){},dc14:function(e,t,n){},dd54:function(e,t,n){},ddbb:function(e,t,n){},ef39:function(e,t,n){},fae1:function(e,t,n){}});
//# sourceMappingURL=app.97b3ac50.js.map